(function(a){a.fn.uCarousel=function(b){return this.each(function(){var d=a(this),c=d.data("uCarousel")||{axis:"x",show:3,step:1,rows:1,curr:0,shift:0,itms:[],clickable:false,retFalse:true,pageStep:3,duration:1000,easing:"swing",activeClass:"active",buttonClass:"button",blockAtEnd:true,fu:{pre:function(){c.axis=c.axis=="x";c.ul=a(">ul",c.me);c.ul=a(">ul",c.me).css({position:"relative"});c.li=a(">li",c.ul).css({display:"block",position:"absolute"});c.li.each(function(f){c.itms[f]=a(this);}).eq(c.pos=c.n=c.curr).addClass(c.activeClass);c.liW=c.li.width()+parseInt(c.li.css("marginLeft"))+parseInt(c.li.css("marginRight"));c.liH=c.li.height()+parseInt(c.li.css("marginTop"))+parseInt(c.li.css("marginLeft"));c.ul.css({width:c.liW*Math.round(c.itms.length/c.rows),height:c.liH*c.rows});for(var e=n=j=0;e<c.itms.length/c.rows;e++){for(j=0;j<c.rows;j++){if(n>=c.itms.length){break;}else{c.itms[n++].css({left:c.axis?e*c.liW:j*c.liW,top:c.axis?j*c.liH:e*c.liH});}}}if(c.me.css("position")=="static"){c.me.css({position:"relative"});}c.me.css({width:c.axis?c.show*c.liW:c.liW*c.rows,height:c.axis?c.liH*c.rows:c.show*c.liH,overflow:"hidden"}).states({states:{other:c.fu.change}});},calc:function(f){f=f<c.itms.length?f>=0?f:c.blockAtEnd?0:c.itms.length-1:c.blockAtEnd?c.itms.length-1:0;c.pos=f;f=f-c.shift*c.rows>=0?f-c.shift*c.rows:0;if(f>c.itms.length-c.show*c.rows){f=c.itms.length-c.show*c.rows;}var e={};c.axis?e.left=-c.itms[f].prop("offsetLeft"):e.top=-c.itms[f].prop("offsetTop");return e;},change:function(e){if(c.n==e){return false;}c.prev=c.n;c.pos=c.n=e<c.itms.length?e>=0?e:c.blockAtEnd?0:c.itms.length-1:c.blockAtEnd?c.itms.length-1:0;c.li.removeClass(c.activeClass).eq(c.n).addClass(c.activeClass);c.fu.move(c.fu.calc(e));},move:function(e){c.ul.stop().animate(e,{duration:c.duration,easing:c.easing});},buttons:function(){a("."+c.buttonClass).each(function(){var f=a(this),e=f.data("type");f.click(function(){swtch(e,{nextPage:function(){c.fu.nextPage();},prevPage:function(){c.fu.prevPage();},next:function(){c.fu.next();},prev:function(){c.fu.prev();},"default":function(){}})();return false;});});},nextPage:function(){var f,e;f=c.pos+(c.pageStep||c.show)*c.rows;f=c.pageStep&&f>(e=c.itms.length-c.show*c.rows)?e:f;c.fu.move(c.fu.calc(f));},prevPage:function(){var f,e;f=c.pos-(c.pageStep||c.show)*c.rows;f=c.pageStep&&f<(e=c.show-c.show*c.rows)?e:f;c.fu.move(c.fu.calc(f));},next:function(){c.me.states(c.n+c.step);},prev:function(){c.me.states(c.n-c.step);},clickable:function(){c.clickable&&c.li.each(function(g){var f=a(this),e=a("a",f);(e.length?e:f).click(function(){c.me.states(g);if(c.retFalse){return false;}});});}},init:function(){c.me=d.data({uCarousel:c});c.fu.pre();c.fu.buttons();c.fu.clickable();}};swtch(typeof b,{object:function(){a.extend(true,c,b);},string:function(){swtch(b,{next:function(){c.fu.next();},prev:function(){c.fu.prev();},"default":function(){}})();},number:function(){d.states(b);},"function":function(){c.me.on("_change",function(){b(c.n,c);});},"default":function(){}})();c.me||c.init();});};})(jQuery);(function(a){a.fn.states=function(c,b){return this.each(function(){var e=a(this),d=e.data("states")||{event:"_change",blockSame:true,states:{},init:function(){d.states["default"]=d.states.other||function(){};d.me=e.data({states:d}).bind(d.event,function(f,g){if(g==d.prev&&d.blockSame){return false;}swtch(g,d.states)(g);});}};swtch(typeof c,{object:function(){a.extend(true,d,c);},string:function(){e.trigger(d.event,c);},number:function(){e.trigger(d.event,c);},"default":function(){}})();d.me||d.init();});};})(jQuery);function swtch(a,b){return(typeof a=="string"||typeof a=="number")?b[a]?b[a]:b["default"]||a:typeof a=="object"?(function(){var c=a instanceof Array?[]:{},d;if(a.constructor===RegExp){for(d in b){b.hasOwnProperty(d)&&a.test(d)&&(c[d]=b[d]);}}else{for(d in a){if(a.hasOwnProperty(d)){c[d]=swtch(a[d],b);}}}return c;})():typeof a=="function"?swtch(a(),b):a;}